{
  "type": "page",
  "title": "",
  "body": [
    {
      "type": "button-toolbar",
      "buttons": [
        {
          "type": "action",
          "actionType": "download",
          "label": "底稿下载",
          "level": "primary",
          "icon": "fa fa-download pull-left",
          "api": {
            "url":"/api/download-file",
            "method":"get",
            "data": {
              "filename": "【土地收储整备】土地收储成本.xlsx"
            }
          }
        }
      ]
    },
    {
      "type": "tabs",
      "tabsMode": "tiled",
      "tabs": [
        {
          "title": "一、土地补偿指标",
          "hash": "tab1",
          "body": [
            {
              "type": "panel",
              "title": "",
              "body": [
                {
                  "type": "radios",
                  "name": "computing_method",
                  "required": true,
                  "label": "请选择土地补偿费用计算方法：",
                  "options": [
                    {
                      "label": "仅知片区总地块面积&平均综合征地补偿标准",
                      "value": 1
                    },
                    {
                      "label": "已知片区内各细分土地类型的面积和补偿标准",
                      "value": 2
                    }
                  ],
                  "onEvent": {
                    "change": {
                      "actions": [
                        {
                          "actionType": "reload",
                          "componentId": "land_compensation_crud",
                          "args": {
                            "category": 1,
                            "computing_method": "${computing_method}"
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "type": "crud",
                  "id": "land_compensation_crud",
                  "className": "m-t",
                  "api": {
                    "url": "/api/land-cost-input",
                    "method": "get",
                    "data": {
                      "category": 1,
                      "computing_method": "${computing_method}"
                    }
                  },
                  "columns": [
                    {
                      "name": "serial_number",
                      "label": "序号",
                      "type": "text",
                      "toggled": true
                    },
                    {
                      "name": "indicator",
                      "label": "指标",
                      "type": "text",
                      "toggled": true
                    },
                    {
                      "name": "value",
                      "label": "取值",
                      "type": "text",
                      "toggled": true
                    },
                    {
                      "name": "remark",
                      "label": "备注",
                      "type": "operation",
                      "toggled": true,
                      "buttons": [
                        {
                          "type": "button",
                          "label": "备注",
                          "level": "info",
                          "actionType": "drawer",
                          "drawer": {
                            "position": "right",
                            "size": "sm",
                            "title": "备注",
                            "body": {
                              "type": "tpl",
                              "tpl": "${remark}",
                              "style": {
                                "white-space": "pre-wrap"
                              }
                            }
                          }
                        },
                        {
                          "type": "button",
                          "label": "依据文件",
                          "level": "dark",
                          "actionType": "drawer",
                          "drawer": {
                            "position": "right",
                            "size": "sm",
                            "title": "依据文件",
                            "body": [
                              {
                              "type": "tpl",
                              "tpl": "${basis}",
                              "style": {
                                "white-space": "pre-wrap"
                              }
                            },
                            {
                              "type": "button",
                              "label": "下载",
                              "level": "link",
                              "actionType": "download",
                              "visibleOn": "${url != null && url !== ''}",
                              "api": {
                                "url": "/api/download-file",
                                "method": "get",
                                "data": {
                                  "filename": "${url}"
                                }
                              }
                            }
                          ]
                          }
                        }
                      ]
                    },
                    {
                      "name":"operation",
                      "label":"操作",
                      "type":"operation",
                      "toggled":true,
                      "buttons":[
                        {
                          "type": "button",
                          "label": "编辑",
                          "actionType": "dialog",
                          "level":"link",
                          "dialog": {
                            "title": "编辑取值",
                            "body": {
                              "type": "form",
                              "api": {
                                "method": "post",
                                "url": "/api/update-land-input",
                                "data": {
                                  "items": [
                                    {
                                      "serial_number": "${serial_number}",
                                      "indicator": "${indicator}",
                                      "value": "${value}",
                                      "remark": "${remark}",
                                      "basis": "${basis}"
                                    }
                                  ],
                                  "category": 1,
                                  "computing_method": "${computing_method}"
                                }
                              },
                              "body": [
                                {
                                  "type": "input-text",
                                  "name": "indicator",
                                  "label": "指标",
                                  "value": "${indicator}",
                                  "disabled": true
                                },
                                {
                                  "type": "input-text",
                                  "name": "value",
                                  "label": "取值",
                                  "required": true,
                                  "value": "${value}"
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "二、拆迁补偿指标",
          "hash": "tab2",
          "body": [
            {
              "type": "crud",
              "id": "demolition_compensation_crud",
              "className": "m-t",
              "api": {
                "url": "/api/land-input",
                "method": "get",
                "data": {
                  "category": 2
                }
              },
              "columns": [
                {
                  "name": "serial_number",
                  "label": "序号",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "indicator",
                  "label": "指标",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "value",
                  "label": "取值",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "remark",
                  "label": "备注",
                  "type": "operation",
                  "toggled": true,
                  "buttons": [
                    {
                      "type": "button",
                      "label": "备注",
                      "level": "info",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "备注",
                        "body": {
                          "type": "tpl",
                          "tpl": "${remark}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "label": "依据文件",
                      "level": "dark",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "依据文件",
                        "body": [
                          {
                          "type": "tpl",
                          "tpl": "${basis}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        },
                        {
                          "type": "button",
                          "label": "下载",
                          "level": "link",
                          "actionType": "download",
                          "visibleOn": "${url != null && url !== ''}",
                          "api": {
                            "url": "/api/download-file",
                            "method": "get",
                            "data": {
                              "filename": "${url}"
                            }
                          }
                        }
                      ]
                      }
                    }
                  ]
                },
                {
                  "name":"operation",
                  "label":"操作",
                  "type":"operation",
                  "toggled":true,
                  "buttons":[
                    {
                      "type": "button",
                      "label": "编辑",
                      "actionType": "dialog",
                      "level":"link",
                      "dialog": {
                        "title": "编辑取值",
                        "body": {
                          "type": "form",
                          "api": {
                            "method": "post",
                            "url": "/api/update-land-input",
                            "data": {
                              "items": [
                                {
                                  "serial_number": "${serial_number}",
                                  "indicator": "${indicator}",
                                  "value": "${value}",
                                  "remark": "${remark}",
                                  "basis": "${basis}"
                                }
                              ],
                              "category": 2,
                              "computing_method": "${computing_method}"
                            }
                          },
                          "body": [
                            {
                              "type": "input-text",
                              "name": "indicator",
                              "label": "指标",
                              "value": "${indicator}",
                              "disabled": true
                            },
                            {
                              "type": "input-text",
                              "name": "value",
                              "label": "取值",
                              "required": true,
                              "value": "${value}"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "三、人员（企业）补偿指标",
          "hash": "tab3",
          "body": [
            {
              "type": "crud",
              "id": "person_compensation_crud",
              "className": "m-t",
              "api": {
                "url": "/api/land-input",
                "method": "get",
                "data": {
                  "category": 3
                }
              },
              "columns": [
                {
                  "name": "serial_number",
                  "label": "序号",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "indicator",
                  "label": "指标",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "value",
                  "label": "取值",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "remark",
                  "label": "备注",
                  "type": "operation",
                  "toggled": true,
                  "buttons": [
                    {
                      "type": "button",
                      "label": "备注",
                      "level": "info",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "备注",
                        "body": {
                          "type": "tpl",
                          "tpl": "${remark}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "label": "依据文件",
                      "level": "dark",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "依据文件",
                        "body": [
                          {
                          "type": "tpl",
                          "tpl": "${basis}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        },
                        {
                          "type": "button",
                          "label": "下载",
                          "level": "link",
                          "actionType": "download",
                          "visibleOn": "${url != null && url !== ''}",
                          "api": {
                            "url": "/api/download-file",
                            "method": "get",
                            "data": {
                              "filename": "${url}"
                            }
                          }
                        }
                      ]
                      }
                    }
                  ]
                },
                {
                  "name":"operation",
                  "label":"操作",
                  "type":"operation",
                  "toggled":true,
                  "buttons":[
                    {
                      "type": "button",
                      "label": "编辑",
                      "actionType": "dialog",
                      "level":"link",
                      "dialog": {
                        "title": "编辑取值",
                        "body": {
                          "type": "form",
                          "api": {
                            "method": "post",
                            "url": "/api/update-land-input",
                            "data": {
                              "items": [
                                {
                                  "serial_number": "${serial_number}",
                                  "indicator": "${indicator}",
                                  "value": "${value}",
                                  "remark": "${remark}",
                                  "basis": "${basis}"
                                }
                              ],
                              "category": 3,
                              "computing_method": "${computing_method}"
                            }
                          },
                          "body": [
                            {
                              "type": "input-text",
                              "name": "indicator",
                              "label": "指标",
                              "value": "${indicator}",
                              "disabled": true
                            },
                            {
                              "type": "input-text",
                              "name": "value",
                              "label": "取值",
                              "required": true,
                              "value": "${value}"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "四、其他不可预见费用比例",
          "hash": "tab4",
          "body": [
            {
              "type": "crud",
              "id": "other_compensation_crud",
              "className": "m-t",
              "api": {
                "url": "/api/land-input",
                "method": "get",
                "data": {
                  "category": 4
                }
              },
              "columns": [
                {
                  "name": "serial_number",
                  "label": "序号",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "indicator",
                  "label": "指标",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "value",
                  "label": "取值",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "remark",
                  "label": "备注",
                  "type": "operation",
                  "toggled": true,
                  "buttons": [
                    {
                      "type": "button",
                      "label": "备注",
                      "level": "info",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "备注",
                        "body": {
                          "type": "tpl",
                          "tpl": "${remark}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "label": "依据文件",
                      "level": "dark",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "依据文件",
                        "body": [
                          {
                          "type": "tpl",
                          "tpl": "${basis}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        },
                        {
                          "type": "button",
                          "label": "下载",
                          "level": "link",
                          "actionType": "download",
                          "visibleOn": "${url != null && url !== ''}",
                          "api": {
                            "url": "/api/download-file",
                            "method": "get",
                            "data": {
                              "filename": "${url}"
                            }
                          }
                        }
                      ]
                      }
                    }
                  ]
                },
                {
                  "name":"operation",
                  "label":"操作",
                  "type":"operation",
                  "toggled":true,
                  "buttons":[
                    {
                      "type": "button",
                      "label": "编辑",
                      "actionType": "dialog",
                      "level":"link",
                      "dialog": {
                        "title": "编辑取值",
                        "body": {
                          "type": "form",
                          "api": {
                            "method": "post",
                            "url": "/api/update-land-input",
                            "data": {
                              "items": [
                                {
                                  "serial_number": "${serial_number}",
                                  "indicator": "${indicator}",
                                  "value": "${value}",
                                  "remark": "${remark}",
                                  "basis": "${basis}"
                                }
                              ],
                              "category": 4,
                              "computing_method": "${computing_method}"
                            }
                          },
                          "body": [
                            {
                              "type": "input-text",
                              "name": "indicator",
                              "label": "指标",
                              "value": "${indicator}",
                              "disabled": true
                            },
                            {
                              "type": "input-text",
                              "name": "value",
                              "label": "取值",
                              "required": true,
                              "value": "${value}"
                            }
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
