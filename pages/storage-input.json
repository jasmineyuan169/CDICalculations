{
  "type": "page",
  "title": "",
  "body": [
    {
      "type": "button-toolbar",
      "buttons": [
        {
          "type": "action",
          "actionType": "download",
          "label": "底稿下载",
          "level": "primary",
          "icon": "fa fa-download pull-left",
          "api": {
            "url":"/api/download-file",
            "method":"get",
            "data": {
              "filename": "【土地收储整备】土地收储成本.xlsx"
            }
          }
        }
      ]
    },
    {
      "type": "tabs",
      "tabsMode": "tiled",
      "tabs": [
        {
          "title": "一、土地补偿指标",
          "hash": "tab1",
          "body": [
            {
              "type": "panel",
              "title": "",
              "body": [
                {
                  "type": "radios",
                  "name": "computing_method",
                  "required": true,
                  "label": "请选择土地补偿费用计算方法：",
                  "options": [
                    {
                      "label": "仅知片区总地块面积&平均综合征地补偿标准",
                      "value": 1
                    },
                    {
                      "label": "已知片区内各细分土地类型的面积和补偿标准",
                      "value": 2
                    }
                  ],
                  "desc": "①若不能确定片区内细分土地类型和细分土地补偿标准，则采用【总地块面积*平均综合征地补偿标准】进行计算；<br> ②若已明确片区内各细分土地类型的面积和补偿标准，则采用【地块类型1面积*地块类型1补偿标准+地块类型2面积*地块类型2补偿标准+...】进行计算。",
                  "onEvent": {
                    "change": {
                      "actions": [
                        {
                          "actionType": "reload",
                          "componentId": "land_compensation_crud",
                          "args": {
                            "category": 1,
                            "computing_method": "${computing_method}"
                          }
                        }
                      ]
                    }
                  }
                },
                {
                  "type": "crud",
                  "id": "land_compensation_crud",
                  "className": "m-t",
                  "api": {
                    "url": "/api/land-cost-input",
                    "method": "get",
                    "data": {
                      "category": 1,
                      "computing_method": "${computing_method}"
                    }
                  },
                  "quickSaveApi": {
                    "method": "post",
                    "url": "/api/bulk-update-land-input",
                    "data": {
                      "rowsDiff": "${rowsDiff}",
                      "ids": "${ids}",
                      "category": 1,
                      "computing_method": "${computing_method}"
                    }
                  },
                  "columns": [
                    {
                      "name": "serial_number",
                      "label": "序号",
                      "type": "text",
                      "toggled": true
                    },
                    {
                      "name": "indicator",
                      "label": "指标",
                      "type": "text",
                      "toggled": true
                    },
                    {
                      "name": "value",
                      "label": "取值",
                      "type": "text",
                      "quickEdit": {
                        "type": "input-text",
                        "required": true,
                        "mode": "inline",
                        "disabledOn":"(computing_method == 2 && (serial_number == 1 || serial_number == 2))"
                      },
                      "toggled": true
                    },
                    {
                      "name": "remark",
                      "label": "备注",
                      "type": "operation",
                      "toggled": true,
                      "buttons": [
                        {
                          "type": "button",
                          "label": "备注",
                          "level": "info",
                          "actionType": "drawer",
                          "drawer": {
                            "position": "right",
                            "size": "sm",
                            "title": "备注",
                            "body": {
                              "type": "tpl",
                              "tpl": "${remark}",
                              "style": {
                                "white-space": "pre-wrap"
                              }
                            }
                          }
                        },
                        {
                          "type": "button",
                          "label": "依据文件",
                          "level": "dark",
                          "actionType": "drawer",
                          "drawer": {
                            "position": "right",
                            "size": "sm",
                            "title": "依据文件",
                            "body": [
                              {
                              "type": "tpl",
                              "tpl": "${basis}",
                              "style": {
                                "white-space": "pre-wrap"
                              }
                            },
                            {
                              "type": "button",
                              "label": "下载",
                              "level": "link",
                              "actionType": "download",
                              "visibleOn": "${url != null && url !== ''}",
                              "api": {
                                "url": "/api/download-file",
                                "method": "get",
                                "data": {
                                  "filename": "${url}"
                                }
                              }
                            }
                          ]
                          }
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "二、拆迁补偿指标",
          "hash": "tab2",
          "body": [
            {
              "type": "crud",
              "id": "demolition_compensation_crud",
              "className": "m-t",
              "api": {
                "url": "/api/land-input",
                "method": "get",
                "data": {
                  "category": 2
                }
              },
              "quickSaveApi": {
                "method": "post",
                "url": "/api/bulk-update-land-input",
                "data": {
                  "rowsDiff": "${rowsDiff}",
                  "ids": "${ids}",
                  "category": 2,
                  "computing_method": ""
                }
              },
              "columns": [
                {
                  "name": "serial_number",
                  "label": "序号",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "indicator",
                  "label": "指标",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "value",
                  "label": "取值",
                  "type": "text",
                  "quickEdit": {
                      "type": "input-text",
                      "required": false,
                      "mode": "inline",
                      "disabledOn":"(serial_number == 1 || serial_number == 5)"
                    },
                  "toggled": true
                },
                {
                  "name": "remark",
                  "label": "备注",
                  "type": "operation",
                  "toggled": true,
                  "buttons": [
                    {
                      "type": "button",
                      "label": "备注",
                      "level": "info",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "备注",
                        "body": {
                          "type": "tpl",
                          "tpl": "${remark}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "label": "依据文件",
                      "level": "dark",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "依据文件",
                        "body": [
                          {
                          "type": "tpl",
                          "tpl": "${basis}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        },
                        {
                          "type": "button",
                          "label": "下载",
                          "level": "link",
                          "actionType": "download",
                          "visibleOn": "${url != null && url !== ''}",
                          "api": {
                            "url": "/api/download-file",
                            "method": "get",
                            "data": {
                              "filename": "${url}"
                            }
                          }
                        }
                      ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "三、人员（企业）补偿指标",
          "hash": "tab3",
          "body": [
            {
              "type": "crud",
              "id": "person_compensation_crud",
              "className": "m-t",
              "api": {
                "url": "/api/land-input",
                "method": "get",
                "data": {
                  "category": 3
                }
              },
              "quickSaveApi": {
                "method": "post",
                "url": "/api/bulk-update-land-input",
                "data": {
                  "rowsDiff": "${rowsDiff}",
                  "ids": "${ids}",
                  "category": 3,
                  "computing_method": ""
                }
              },
              "columns": [
                {
                  "name": "serial_number",
                  "label": "序号",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "indicator",
                  "label": "指标",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "value",
                  "label": "取值",
                  "type": "text",
                  "quickEdit": {
                    "type": "input-text",
                    "required": true,
                    "mode": "inline",
                    "disabledOn":"(serial_number == 3)"
                  },
                  "toggled": true
                },
                {
                  "name": "remark",
                  "label": "备注",
                  "type": "operation",
                  "toggled": true,
                  "buttons": [
                    {
                      "type": "button",
                      "label": "备注",
                      "level": "info",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "备注",
                        "body": {
                          "type": "tpl",
                          "tpl": "${remark}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "label": "依据文件",
                      "level": "dark",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "依据文件",
                        "body": [
                          {
                          "type": "tpl",
                          "tpl": "${basis}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        },
                        {
                          "type": "button",
                          "label": "下载",
                          "level": "link",
                          "actionType": "download",
                          "visibleOn": "${url != null && url !== ''}",
                          "api": {
                            "url": "/api/download-file",
                            "method": "get",
                            "data": {
                              "filename": "${url}"
                            }
                          }
                        }
                      ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "title": "四、其他不可预见费用比例",
          "hash": "tab4",
          "body": [
            {
              "type": "crud",
              "id": "other_compensation_crud",
              "className": "m-t",
              "api": {
                "url": "/api/land-input",
                "method": "get",
                "data": {
                  "category": 4
                }
              },
              "quickSaveApi": {
                "method": "post",
                "url": "/api/bulk-update-land-input",
                "data": {
                  "rowsDiff": "${rowsDiff}",
                  "ids": "${ids}",
                  "category": 4,
                  "computing_method": ""
                }
              },
              "columns": [
                {
                  "name": "serial_number",
                  "label": "序号",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "indicator",
                  "label": "指标",
                  "type": "text",
                  "toggled": true
                },
                {
                  "name": "value",
                  "label": "取值",
                  "type": "text",
                  "quickEdit": {
                    "type": "input-text",
                    "required": true,
                    "mode": "inline",
                    "disabledOn":""
                  },
                  "toggled": true
                },
                {
                  "name": "remark",
                  "label": "备注",
                  "type": "operation",
                  "toggled": true,
                  "buttons": [
                    {
                      "type": "button",
                      "label": "备注",
                      "level": "info",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "备注",
                        "body": {
                          "type": "tpl",
                          "tpl": "${remark}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        }
                      }
                    },
                    {
                      "type": "button",
                      "label": "依据文件",
                      "level": "dark",
                      "actionType": "drawer",
                      "drawer": {
                        "position": "right",
                        "size": "sm",
                        "title": "依据文件",
                        "body": [
                          {
                          "type": "tpl",
                          "tpl": "${basis}",
                          "style": {
                            "white-space": "pre-wrap"
                          }
                        },
                        {
                          "type": "button",
                          "label": "下载",
                          "level": "link",
                          "actionType": "download",
                          "visibleOn": "${url != null && url !== ''}",
                          "api": {
                            "url": "/api/download-file",
                            "method": "get",
                            "data": {
                              "filename": "${url}"
                            }
                          }
                        }
                      ]
                      }
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
